{"version":2,"baseVals":{"rating":3,"gammaadj":1.98,"decay":0.5,"echo_zoom":1,"echo_alpha":0.5,"echo_orient":3,"wave_mode":6,"wave_thick":1,"modwavealphabyvolume":1,"wave_brighten":0,"darken":1,"wave_a":0.001,"wave_scale":0.527,"wave_smoothing":0.09,"modwavealphastart":0,"modwavealphaend":1.32,"warpanimspeed":1.459,"warpscale":2.007,"zoom":0.9999,"warp":0.01,"sx":0.9999,"wave_r":0.8,"wave_g":0.49,"ob_a":1,"ib_size":0.26,"mv_x":64,"mv_y":48,"mv_l":1.85,"mv_r":0.5,"mv_g":0.5,"mv_b":0.5,"mv_a":0,"b2x":0.7,"b1ed":0},"shapes":[{"baseVals":{"enabled":1,"sides":12,"num_inst":1024,"rad":0.03632,"tex_ang":1.00531,"tex_zoom":1.53117,"b":1,"a":0,"g2":0,"border_b":0,"border_a":0},"init_eqs_str":"a.fov=0;a.n=0;a.x0=0;a.y0=0;a.z0=0;a.q32=0;a.t1=0;","frame_eqs_str":"a.fov=a.reg03;a.n=a.instance*a.reg00;a.x0=a.gmegabuf[Math.floor(a.n)];a.y0=a.gmegabuf[Math.floor(a.n+1)];a.z0=a.gmegabuf[Math.floor(a.n+2)]+a.reg02;a.x=div(a.x0,a.z0)*a.fov+.5;a.y=div(a.y0,a.z0)*a.q32*a.fov+.5;a.r=a.gmegabuf[Math.floor(a.n+3)];a.g=a.gmegabuf[Math.floor(a.n+4)];a.b=a.gmegabuf[Math.floor(a.n+5)];a.r2=div(a.r,2);a.g2=div(a.g,2);a.b2=div(a.b2,2);a.a=div(a.instance,1024);a.a2=.5*a.a;a.rad=Math.min(div(.02,a.z0),.5)*(0<a.z0?1:0)*2.5*sqrt(a.a);a.rad*=a.gmegabuf[Math.floor(a.n+\n6)];--a.t1;","init_eqs_eel":"","frame_eqs_eel":"fov = reg03;\nn = instance*reg00;\n\n\nx0 = gmegabuf(n);\ny0 = gmegabuf(n+1);\nz0 = gmegabuf(n+2)+reg02;\n\nx = x0/z0*fov + 0.5;\ny = y0/z0*q32*fov + 0.5;\n\n\n//k1 = reg01+t1;\nr = gmegabuf(n+3);\ng = gmegabuf(n+4);\nb = gmegabuf(n+5);\nr2 = r/2; g2 = g/2; b2 = b2/2;\n\na = instance/1024; a2 = a*.5;\nrad = min(0.02/z0,.5) * (z0 > 0)*2.5*sqrt(a);\nrad *= gmegabuf(n+6);\n\nt1 -= 1;\n"},{"baseVals":{"num_inst":128,"x":0.26,"y":0.2,"rad":0.39317,"tex_zoom":0.9355,"g":1,"b":0.6,"g2":0,"border_r":0,"border_g":0,"border_b":0,"border_a":0,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":13,"additive":1,"num_inst":5,"x":0.65,"y":0.38,"rad":0.57049,"tex_zoom":0.73678,"a":0.7,"g2":0,"border_r":0.5,"border_g":0.5,"border_b":0,"border_a":0,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""},{"baseVals":{"sides":14,"additive":1,"thickoutline":1,"textured":1,"x":0.6,"y":0.55,"rad":0.97237,"ang":1.25664,"tex_zoom":0.34933,"g":0.6,"g2":0,"b2":1,"border_r":0.2,"border_g":0.7,"border_b":0.5,"border_a":0,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"enabled":1,"scaling":2.15542,"smoothing":0.2,"r":0,"a":0.7},"init_eqs_str":"a.fov=0;a.n=0;a.t1=0;a.x0=0;a.y0=0;a.z0=0;a.k1=0;a.t2=0;","frame_eqs_str":"a.t1=1023;a.t2=0;","point_eqs_str":"a.fov=a.reg03;a.n=a.t1*a.reg00;a.x0=a.gmegabuf[Math.floor(a.n)];a.y0=a.gmegabuf[Math.floor(a.n+1)];a.z0=a.gmegabuf[Math.floor(a.n+2)]+a.reg02;a.x=div(a.x0,a.z0)*a.fov+.5;a.y=div(a.y0,a.z0)*a.fov+.5;a.a=Math.max(0,div(a.t1,1024));a.k1=a.reg01+a.t1;a.r=a.gmegabuf[Math.floor(a.n+3)];a.g=a.gmegabuf[Math.floor(a.n+4)];a.b=a.gmegabuf[Math.floor(a.n+5)];a.a=div(div(a.t1,1024)*(.5<=a.z0?1:0),2);--a.t1;a.gmegabuf[Math.floor(1E4+a.t2)]=Math.abs(a.value1+a.value2);a.t2+=1;","init_eqs_eel":"","frame_eqs_eel":"t1 = 1023;\nt2 = 0;","point_eqs_eel":"fov = reg03;\nn = t1 * reg00;\n\n\nx0 = gmegabuf(n);\ny0 = gmegabuf(n+1);\nz0 = gmegabuf(n+2)+reg02;\n\nx = x0/z0*fov + 0.5;\ny = y0/z0*fov + 0.5;\n\n\na= max(0,t1/1024);\n\nk1 = reg01+t1;\nr = gmegabuf(n+3);\ng = gmegabuf(n+4);\nb = gmegabuf(n+5);\n\n\na = t1/1024 * (z0 >= 0.5)/2;\n\nt1 -= 1;\ngmegabuf (10000 +t2) = abs(value1+value2);\nt2 += 1;"},{"baseVals":{"enabled":1,"scaling":0.89152,"smoothing":0.82,"r":0,"a":0.1},"init_eqs_str":"a.fov=0;a.n=0;a.t1=0;a.x0=0;a.y0=0;a.z0=0;","frame_eqs_str":"a.t1=512;","point_eqs_str":"a.fov=a.reg03;a.n=a.t1*a.reg00;a.x0=a.gmegabuf[Math.floor(a.n)];a.y0=a.gmegabuf[Math.floor(a.n+1)];a.z0=a.gmegabuf[Math.floor(a.n+2)]+a.reg02;a.x=div(a.x0,a.z0)*a.fov+.5;a.y=div(a.y0,a.z0)*a.fov+.5;a.r=a.gmegabuf[Math.floor(a.n+3)];a.g=a.gmegabuf[Math.floor(a.n+4)];a.b=a.gmegabuf[Math.floor(a.n+5)];a.a=div(div(a.t1,1024)*(.5<=a.z0?1:0),2);--a.t1;","init_eqs_eel":"","frame_eqs_eel":"t1 = 512;","point_eqs_eel":"fov = reg03;\nn = t1 * reg00;\n\n\nx0 = gmegabuf(n);\ny0 = gmegabuf(n+1);\nz0 = gmegabuf(n+2)+reg02;\n\nx = x0/z0*fov + 0.5;\ny = y0/z0*fov + 0.5;\n\nr = gmegabuf(n+3);\ng = gmegabuf(n+4);\nb = gmegabuf(n+5);\n\na= t1/1024* (z0 >= 0.5)/2;\nt1 -= 1;\n"},{"baseVals":{"samples":32,"scaling":0.89152,"smoothing":0.82,"r":0,"g":0.2,"b":0.6,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"a.xang=0;a.n=0;a.fov=0;a.index2=0;a.ran9=0;a.ran5_=0;a.right=0;a.ran4=0;a.index=0;a.q12=0;a.yang=0;a.q6=0;a.y0=0;a.ran8=0;a.q1=0;a.r1=0;a.q5=0;a.ran1_=0;a.points=0;a.dt1=0;a.dec_f=0;a.x0=0;a[\"new\"]=0;a.dec_s=0;a.k3=0;a.reg01=0;a.my=0;a.oz=0;a.is_beat=0;a.k1=0;a.ran2=0;a.q11=0;a.z0=0;a.q10=0;a.ran4_=0;a.ran9_=0;a.ran3=0;a.ran5=0;a.dec_m=0;a.ran7=0;a.k2=0;a.mz=0;a.ran8_=0;a.ddy=0;a.ran6=0;a.dec2=0;a.ran6_=0;a.oy=0;a.rsum=0;a.mx=0;a.beat=0;a.vol=0;a.ran2_=0;a.peak=0;a.ddx=0;a.q2=\n0;a.zang=0;a.trel1=0;a.ran7_=0;a.t0=0;a.dec=0;a.m=0;a.ran1=0;a.q32=0;a.ran3_=0;a.left=0;a.pk=0;a.recsize=0;a.ox=0;a.zofs=0;for(var b=a.index=0;1E5>b;b++)a.megabuf[Math.floor(a.index)]=0,a.gmegabuf[Math.floor(a.index)]=0,a.index+=1;a.recsize=8;a.reg00=a.recsize;a.points=1024;a.reg01=0;a.zofs=1+2*div(rand(100),100);a.reg02=a.zofs;a.fov=.3;a.reg03=a.fov;","frame_eqs_str":"a.dec_f=pow(.3,div(30,a.fps));a.dec_m=pow(.85,div(30,a.fps));a.dec_s=pow(.95,div(30,a.fps));a.beat=a.bass+a.mid+a.treb-(a.bass_att+a.mid_att+a.treb_att)+(a.bass+a.mid+a.treb);a.beat/=3;a.peak=a.peak*a.dec_m+(1-a.dec_m)*pow(a.beat-1,1)*(1<a.beat?1:0)*4;a.is_beat=above(a.beat,1)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),8);.00001<Math.abs(a.is_beat)?(a.ran1=div(rand(100),50)-1,\na.ran2=div(rand(100),50)-1,a.ran3=div(rand(100),50)-1):0;a.ran1_=a.dec_m*a.ran1_+(1-a.dec_m)*a.ran1;a.ran2_=a.dec_m*a.ran2_+(1-a.dec_m)*a.ran2;a.ran3_=a.dec_m*a.ran3_+(1-a.dec_m)*a.ran3;a.rsum=sqrt(a.ran1_*a.ran1_+a.ran2_*a.ran2_+a.ran3_*a.ran3_);.00001<Math.abs(a.is_beat*(.00001>Math.abs(a.index-2)?1:0))?(a.ran4=div(rand(100),50)-1,a.ran5=div(rand(100),50)-1,a.ran6=div(rand(100),50)-1):0;a.ran4_=a.dec_m*a.ran4_+(1-a.dec_m)*a.ran4;a.ran5_=a.dec_m*a.ran5_+(1-a.dec_m)*a.ran5;a.ran6_=a.dec_m*a.ran6_+\n(1-a.dec_m)*a.ran6;.00001<Math.abs(a.is_beat*(.00001>Math.abs(a.index-6)?1:0))?(a.ran7=div(rand(100),50)-1,a.ran8=div(rand(100),50)-1,a.ran9=div(rand(100),50)-1):0;a.ran7_=a.dec_m*a.ran7_+(1-a.dec_m)*a.ran7;a.ran8_=a.dec_m*a.ran8_+(1-a.dec_m)*a.ran8;a.ran9_=a.dec_m*a.ran9_+(1-a.dec_m)*a.ran9;a.pk=sqrt(a.peak+.1);a[\"new\"]=Math.floor(12*(a.ran4-a.ran5)*a.pk-div(12*(a.ran3-a.ran1),a.pk));a[\"new\"]=Math.max(Math.min(a[\"new\"],20),2);a.reg01+=a[\"new\"];a.dec=a.dec_m;a.n=a.recsize*a.points;a.m=0;a.dt1=div(div(.00001<\nMath.abs(0<a.ran1?1:0)?4*a.pk:div(4,a.pk),a.fps)*a[\"new\"],6);a.vol=Math.max(a.ran1+a.ran2,.2)*a.pk*2;for(var b=0;b<a[\"new\"];b++)a.trel1+=a.dt1,a.x0=a.x0*a.dec+(1-a.dec)*(Math.sin(a.trel1+6*a.ran3)*a.vol+a.ran1),a.y0=a.y0*a.dec+(1-a.dec)*(Math.sin(a.trel1+6*a.ran2)*a.vol+a.ran2),a.z0=a.z0*a.dec+(1-a.dec)*(Math.sin(a.trel1+6*a.ran1)*a.vol+a.ran3),a.gmegabuf[Math.floor(a.n)]=a.x0,a.gmegabuf[Math.floor(a.n+1)]=a.y0,a.gmegabuf[Math.floor(a.n+2)]=a.z0,a.gmegabuf[Math.floor(a.n+3)]=div(div(a.ran1_,a.rsum),\n3)+.5,a.gmegabuf[Math.floor(a.n+4)]=div(div(a.ran2_,a.rsum),3)+.5,a.gmegabuf[Math.floor(a.n+5)]=div(div(a.ran3_,a.rsum),3)+.5,a.gmegabuf[Math.floor(a.n+6)]=0*a.gmegabuf[Math.floor(1E4+a.m)]+1,a.n+=a.recsize,a.m+=1;for(b=a.n=0;b<a.recsize*a.points;b++)a.gmegabuf[Math.floor(a.n)]=a.gmegabuf[Math.floor(a.n+a[\"new\"]*a.recsize)],a.n+=1;a.xang=div(a.ran4_,a.fps);a.yang=div(a.ran5_,a.fps);a.zang=div(a.ran6_,a.fps);a.ddx=Math.min(Math.max(a.ddx+div(a.yang,a.fps),-1),1);a.ddy=Math.min(Math.max(a.ddy+div(a.xang,\na.fps),-1),1);a.q1=2*a.ddx;a.q2=2*a.ddy;for(b=a.n=0;b<a.points;b++)a.ox=a.gmegabuf[Math.floor(a.n)],a.oy=a.gmegabuf[Math.floor(a.n+1)],a.oz=a.gmegabuf[Math.floor(a.n+2)],a.mx=a.ox*Math.cos(a.zang)-a.oy*Math.sin(a.zang),a.my=a.ox*Math.sin(a.zang)+a.oy*Math.cos(a.zang),a.ox=a.mx,a.oy=a.my,a.mx=a.ox*Math.cos(a.yang)+a.oz*Math.sin(a.yang),a.mz=-a.ox*Math.sin(a.yang)+a.oz*Math.cos(a.yang),a.ox=a.mx,a.oz=a.mz,a.my=a.oy*Math.cos(a.xang)-a.oz*Math.sin(a.xang),a.mz=a.oy*Math.sin(a.xang)+a.oz*Math.cos(a.xang),\na.oy=a.my,a.oz=a.mz,a.gmegabuf[Math.floor(a.n)]=a.ox,a.gmegabuf[Math.floor(a.n+1)]=a.oy,a.gmegabuf[Math.floor(a.n+2)]=a.oz,a.n+=a.recsize;a.k1=div(div(a.ran7_,a.fps),2);a.k2=div(div(a.ran8_,a.fps),2);a.k3=div(Math.abs(a.ran9_),a.fps);a.dec=.4+.6*a.ran5_;a.dec2=1-a.dec;a.r1=.5+.3*a.ran4_;for(b=a.n=0;b<a.points-1;b++)a.m=a.n*a.recsize,a.left=mod(a.n-1+a.points,a.points)*a.recsize,a.right=mod(a.n+1+a.points,a.points)*a.recsize,a.gmegabuf[Math.floor(a.m)]=a.dec*a.gmegabuf[Math.floor(a.m)]+a.dec2*(a.gmegabuf[Math.floor(a.left)]*\na.r1+a.gmegabuf[Math.floor(a.right)]*(1-a.r1)+a.k1),a.gmegabuf[Math.floor(a.m+1)]=a.dec*a.gmegabuf[Math.floor(a.m+1)]+a.dec2*(a.gmegabuf[Math.floor(a.left+1)]*a.r1+a.gmegabuf[Math.floor(a.right+1)]*(1-a.r1)+a.k2),a.n+=1;a.m=mod(a.frame,a.points);a.m=Math.max(0,Math.floor(1024+200*(a.t0-a.time)));a.n=a.m*a.recsize;a.q5=div(a.gmegabuf[Math.floor(a.n)],a.gmegabuf[Math.floor(a.n+2)]+a.zofs)*a.fov;a.q6=div(-a.gmegabuf[Math.floor(a.n+1)],a.gmegabuf[Math.floor(a.n+2)]+a.zofs)*a.fov;a.q10=sqrt(a.gmegabuf[Math.floor(a.n+\n3)]);a.q11=sqrt(a.gmegabuf[Math.floor(a.n+4)]);a.q12=sqrt(a.gmegabuf[Math.floor(a.n+5)]);a.monitor=a.m;a.q32=a.aspecty;","pixel_eqs_str":"a.rot=0;a.zoom=1;a.warp=0;a.dy=0;a.dx=-0;","init_eqs_eel":"index = 0;\nloop (100000,\n  megabuf(index) = 0;\n  gmegabuf(index) = 0;\n  index = index + 1;\n);\n\nrecsize = 8;\nreg00 = recsize;\n\npoints = 512*2;\n\nreg01 = 0; //benoetigt fuer \"new\"\nzofs = 1 + rand(100)/100*2; reg02 = zofs;\n\nfov = .3; reg03 = fov;","frame_eqs_eel":"dec_f = pow (0.3, 30/fps);\ndec_m = pow (0.85, 30/fps);\ndec_s = pow (0.95, 30/fps);\nbeat = (bass + mid+ treb)-(bass_att + mid_att+ treb_att) + (bass+mid+treb);\nbeat /= 3;\n\npeak = peak*dec_m + (1-dec_m)*pow(beat-1,1)*(beat>1)*4;\nis_beat = above(beat, 1) * above (time, t0+.2);\nt0 = is_beat*time + (1-is_beat)*t0;\nindex = (index + is_beat) %8;\nindex2 = (index2 + is_beat*bnot(index)) %8;\n\nif (is_beat,\n  ran1 = rand(100)/50-1;\n  ran2 = rand(100)/50-1;\n  ran3 = rand(100)/50-1;\n,0);\nran1_ = dec_m * ran1_ + (1-dec_m) * ran1;\nran2_ = dec_m * ran2_ + (1-dec_m) * ran2;\nran3_ = dec_m * ran3_ + (1-dec_m) * ran3;\nrsum = sqrt(ran1_*ran1_ + ran2_*ran2_ + ran3_*ran3_);\n\nif (is_beat * (index==2),\n  ran4 = (rand(100)/50-1);\n  ran5 = (rand(100)/50-1);\n  ran6 = (rand(100)/50-1);\n,0;);\nran4_ = dec_m * ran4_ + (1-dec_m) * ran4;\nran5_ = dec_m * ran5_ + (1-dec_m) * ran5;\nran6_ = dec_m * ran6_ + (1-dec_m) * ran6;\n\nif (is_beat * (index==6),\n  ran7 = (rand(100)/50-1) ;\n  ran8 = (rand(100)/50-1) ;\n  ran9 = (rand(100)/50-1) ;\n,0;);\nran7_ = dec_m * ran7_ + (1-dec_m) * ran7;\nran8_ = dec_m * ran8_ + (1-dec_m) * ran8;\nran9_ = dec_m * ran9_ + (1-dec_m) * ran9;\n\n\n//Neue Punkte #####################\npk = sqrt(peak+.1);\nNew = int(12*(ran4-ran5)*pk-12*(ran3-ran1)/pk); //##spielen\nnew = max(min (new,20),2);\nreg01 += new;\n\ndec = dec_m;\n\n//Neue Punkte oberhalb des Arrays\nn = recsize*points; m = 0;\ndt1 = (if (ran1>0,4*pk,4/pk))/fps*new/6;\nvol = max(ran1+ran2,.2)*pk*2;\nloop (new,\n  trel1 = trel1 + dt1;\n  x0 = x0 * dec + (1-dec)* (sin(trel1+ran3*6)*vol    +ran1);\n  y0 = y0 * dec + (1-dec)* (sin(trel1+ran2*6)*vol    +ran2);\n  z0 = z0 * dec + (1-dec)* (sin(trel1+ran1*6)*vol +ran3);\n\n  gmegabuf(n)   = x0;\n  gmegabuf(n+1) = y0;\n  gmegabuf(n+2) = z0;\n//Farben\n  gmegabuf(n+3) = ran1_/rsum/3+.5;\n  gmegabuf(n+4) = ran2_/rsum/3+.5;\n  gmegabuf(n+5) = ran3_/rsum/3+.5;\n//Groesse\n  gmegabuf(n+6) = gmegabuf(10000+m)*0+1;;\n  n += recsize; m+=1;);\n\n//Nach unten um \"new\" points umkopieren\nn = 0;\nloop (recsize*points,\n  gmegabuf (n) = gmegabuf(n+new*recsize) ;\n  n += 1;);\n\nxang = ran4_/fps;\nyang = ran5_/fps;\nzang = ran6_/fps;\nddx = min(max(ddx+yang/fps,-1),1);\nddy = min(max(ddy+xang/fps,-1),1);\nq1 = ddx*2;\nq2 = ddy*2;\n//Rotieren\nn = 0;\nloop (points,\n  ox = gmegabuf (n);\n  oy = gmegabuf (n+1);\n  oz = gmegabuf (n+2);\n  mx = ox*cos(zang) - oy*sin(zang);\n  my = ox*sin(zang) + oy*cos(zang);\n  ox = mx;  oy = my;\n  mx = ox*cos(yang) + oz*sin(yang);\n  mz = -ox*sin(yang) + oz*cos(yang);\n  ox = mx;  oz = mz;\n  my = oy*cos(xang) - oz*sin(xang);\n  mz = oy*sin(xang) + oz*cos(xang);\n  oy = my;  oz = mz;\n  gmegabuf (n) = ox;\n  gmegabuf (n+1) = oy;\n  gmegabuf (n+2) = oz;\nn += recsize;);\n\n\n//SPIEL\nk1 = ran7_/fps/2;\nk2 = ran8_/fps/2;\nk3 = abs(ran9_)/fps;\n\ndec = .4 + .6*ran5_; dec2 = (1-dec);\nr1 = .5+.3*ran4_;\nn = 0;\nloop (points-1,\n  m = n*recsize;\n  left  =  ((n-1+points)%points) * recsize;\n  right =  ((n+1+points)%points) * recsize;\n  gmegabuf (m) =   dec*gmegabuf(m)   + dec2*(gmegabuf(left)*r1   +gmegabuf(right)*(1-r1) + k1) ;\n  gmegabuf (m+1) = dec*gmegabuf(m+1) + dec2*(gmegabuf(left+1)*r1 +gmegabuf(right+1)*(1-r1) + k2) ;\n//  gmegabuf (m+2) = dec*gmegabuf(m+2) + dec2*(gmegabuf(left+2)*r1 +gmegabuf(right+2)*(1-r1) + k3) ;\n  n += 1;\n);\n\n\nm = (frame%points);\nm = max(0,int(1024 + (t0-time)*200));\nn = m * recsize;\nq5 = gmegabuf(n)/(gmegabuf(n+2)+zofs)*fov;\nq6 = -gmegabuf(n+1)/(gmegabuf(n+2)+zofs)*fov;\n\nq10=  sqrt(gmegabuf (n+3));\nq11=  sqrt(gmegabuf(n+4));\nq12=  sqrt(gmegabuf (n+5));\n\n\nmonitor =   m;\n\nq32 = aspecty;","pixel_eqs_eel":"rot = 0; zoom = 1; warp = 0; dy = .00; dx = -.00;","warp":" shader_body { \n  vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = vec3(0.0, 0.0, 0.0);\n  ret = tmpvar_1.xyz;\n }","comp":"float xlat_mutablesmask;\nvec2 xlat_mutableuv1;\nvec2 xlat_mutableuv2;\nvec2 xlat_mutableuv3;\nvec2 xlat_mutableuv4;\n shader_body { \n  float flash_1;\n  float dist_2;\n  float stars_3;\n  vec3 ret_4;\n  xlat_mutableuv1 = ((uv - 0.5) * aspect.xy);\n  float tmpvar_5;\n  tmpvar_5 = (0.1 * time);\n  float tmpvar_6;\n  tmpvar_6 = (0.2 * rad);\n  dist_2 = ((1.0 - fract(\n    (0.3333333 + tmpvar_5)\n  )) * (1.0 - tmpvar_6));\n  vec2 tmpvar_7;\n  tmpvar_7.x = q1;\n  tmpvar_7.y = q2;\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_7);\n  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);\n  vec2 tmpvar_8;\n  tmpvar_8 = abs((fract(xlat_mutableuv4) - 0.5));\n  stars_3 = max (0.0, clamp ((\n    (1.0 - dist_2)\n   * \n    ((0.1 / sqrt(dot (tmpvar_8, tmpvar_8))) * xlat_mutablesmask)\n  ), 0.0, 1.0));\n  dist_2 = ((1.0 - fract(\n    (0.6666667 + tmpvar_5)\n  )) * (1.0 - tmpvar_6));\n  vec2 tmpvar_9;\n  tmpvar_9.x = q1;\n  tmpvar_9.y = q2;\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_9);\n  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);\n  vec2 tmpvar_10;\n  tmpvar_10 = abs((fract(xlat_mutableuv4) - 0.5));\n  stars_3 = (stars_3 + max (stars_3, clamp (\n    ((1.0 - dist_2) * ((0.1 / sqrt(\n      dot (tmpvar_10, tmpvar_10)\n    )) * xlat_mutablesmask))\n  , 0.0, 1.0)));\n  dist_2 = ((1.0 - fract(\n    (1.0 + tmpvar_5)\n  )) * (1.0 - tmpvar_6));\n  vec2 tmpvar_11;\n  tmpvar_11.x = q1;\n  tmpvar_11.y = q2;\n  xlat_mutableuv3 = (xlat_mutableuv1 + tmpvar_11);\n  xlat_mutableuv4 = ((32.0 * dist_2) * xlat_mutableuv3);\n  xlat_mutablesmask = (texture (sampler_pw_noise_lq, (xlat_mutableuv4 / 256.0)).y - 0.9);\n  vec2 tmpvar_12;\n  tmpvar_12 = abs((fract(xlat_mutableuv4) - 0.5));\n  stars_3 = (stars_3 + max (stars_3, clamp (\n    ((1.0 - dist_2) * ((0.1 / sqrt(\n      dot (tmpvar_12, tmpvar_12)\n    )) * xlat_mutablesmask))\n  , 0.0, 1.0)));\n  vec2 tmpvar_13;\n  tmpvar_13.x = q5;\n  tmpvar_13.y = q6;\n  xlat_mutableuv2 = (xlat_mutableuv1 - tmpvar_13);\n  float tmpvar_14;\n  tmpvar_14 = ((0.01 / sqrt(\n    dot (xlat_mutableuv2, xlat_mutableuv2)\n  )) * min (3.0, (\n    ((mid - 0.5) * float((mid > 0.5)))\n   * 2.0)));\n  flash_1 = tmpvar_14;\n  float angle_15;\n  float tmpvar_16;\n  tmpvar_16 = abs(xlat_mutableuv2.x);\n  if ((xlat_mutableuv2.y >= 0.0)) {\n    angle_15 = (1.0 - ((xlat_mutableuv2.y - tmpvar_16) / (xlat_mutableuv2.y + tmpvar_16)));\n  } else {\n    angle_15 = (3.0 - ((xlat_mutableuv2.y + tmpvar_16) / (tmpvar_16 - xlat_mutableuv2.y)));\n  };\n  angle_15 = (angle_15 * 0.25);\n  float tmpvar_17;\n  if ((xlat_mutableuv2.x < 0.0)) {\n    tmpvar_17 = -(angle_15);\n  } else {\n    tmpvar_17 = angle_15;\n  };\n  flash_1 = (tmpvar_14 * (tmpvar_14 / (\n    abs((fract((\n      (3.0 * tmpvar_17)\n     + \n      (time * 2.0)\n    )) - 0.5))\n   + 0.18)));\n  vec3 tmpvar_18;\n  tmpvar_18 = max ((texture (sampler_main, uv).xyz * 2.0), ((\n    (texture (sampler_blur2, uv).xyz * scale2)\n   + bias2) * 2.0));\n  vec2 tmpvar_19;\n  tmpvar_19 = sin(xlat_mutableuv3);\n  ret_4 = (clamp ((0.025 / \n    sqrt(dot (tmpvar_19, tmpvar_19))\n  ), 0.0, 1.0) * vec3(0.4, 0.1, 1.0));\n  ret_4 = (ret_4 + clamp ((stars_3 * stars_3), 0.0, 1.0));\n  ret_4 = (ret_4 * clamp ((1.0 - \n    (2.0 * dot (tmpvar_18, vec3(0.32, 0.49, 0.29)))\n  ), 0.0, 1.0));\n  ret_4 = (ret_4 + tmpvar_18);\n  vec3 tmpvar_20;\n  tmpvar_20.x = q10;\n  tmpvar_20.y = q11;\n  tmpvar_20.z = q12;\n  ret_4 = (ret_4 + ((2.0 * \n    clamp (flash_1, 0.0, 1.0)\n  ) * tmpvar_20));\n  vec4 tmpvar_21;\n  tmpvar_21.w = 1.0;\n  tmpvar_21.xyz = ret_4;\n  ret = tmpvar_21.xyz;\n }","warp_hlsl":"float3 ret1;\nshader_body {\n\nret = 0;\n\n\n}","comp_hlsl":"sampler sampler_pw_noise_lq;\nfloat3 ret1;\nfloat2 zz, uv0, uv1,uv2,uv3,uv4;\nfloat smask;\n\nfloat aTan2(float y, float x) {float angle;\t float abs_y = abs(y);\nif (x >= 0) {float r = (x - abs_y) / (x + abs_y); angle = 1-r;}\nelse {float r = (x + abs_y) / (abs_y - x); angle = 3-r; }\nangle = angle * .25;\nreturn y < 0 ? -angle : angle;}\n\nshader_body { ;\nuv0 = uv;\nuv1 = (uv-.5)*aspect.xy;\n\nuv1 = (uv - .5) * aspect.xy;\nfloat stars = 0; float dist, inten;\nint n = 1;\nint anz = 3;\nwhile (n <= anz) {\n  dist = (1-frac(1.0/anz*n+.10*time)) * (1-.2*rad);\n  inten =  (1-dist);\n  uv3 = (uv1+float2(q1,q2));\n   uv4 = 32*dist*uv3;\n  smask = (tex2D (sampler_pw_noise_lq,uv4/256)).g-.9;\n  stars += max(stars,saturate(inten*(.1/length(abs(frac(uv4)-.5))*smask)));\nn++;\n}\nuv2 = uv1 - float2(q5,q6);\nfloat beat = (mid - .5) * (mid > 0.5)*2;\nfloat flash = .01/(length(uv2))*min(3,pow(beat,1));\nflash *= flash/(abs(frac(3*aTan2(uv2.x,uv2.y)+time*2)-.5)+.18);\n\nret1 = max(GetPixel(uv0)*2,GetBlur2(uv0)*2);\nret = saturate(.025/length(sin(uv3)))*float3(.4,.1,1);\nret += saturate(pow(stars,2));\nret *= saturate(1-2*lum(ret1));\nret +=  ret1;\nret += 2*saturate(flash)*float3(q10,q11,q12);\n}"}