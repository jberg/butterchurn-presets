{"version":2,"baseVals":{"rating":3,"gammaadj":1,"decay":1,"echo_zoom":0.907,"echo_orient":1,"wave_mode":6,"wave_thick":1,"wrap":0,"brighten":1,"wave_a":0,"wave_scale":0,"wave_smoothing":0.5,"modwavealphastart":0.5,"modwavealphaend":1,"warp":0,"wave_r":0.5,"wave_g":0.5,"wave_b":0.5,"ob_a":1,"ib_size":0,"ib_r":0.1,"ib_g":0.1,"ib_b":0.1,"ib_a":0.2,"mv_x":51.2,"mv_y":33.6,"mv_l":5,"mv_r":0.4,"mv_g":0.3,"mv_b":0.5,"mv_a":0,"b3x":0.3},"shapes":[{"baseVals":{"enabled":1,"additive":1,"thickoutline":1,"num_inst":5,"rad":0.0101,"tex_zoom":0.27705,"g":0.8,"a":0,"g2":0,"border_r":0.2,"border_g":0.14,"border_b":0,"border_a":0.3},"init_eqs_str":"a.q30=0;","frame_eqs_str":"a.rad=.6+.02*a.instance;a.border_a=.02*Math.max(0,Math.sin(.15*a.instance));a.border_a=.15*a.q30*mod(a.frame,2);","init_eqs_eel":"","frame_eqs_eel":"rad = 0.6 + .02*instance;\nborder_a = .02*max(0,sin(instance*.15));\n\nborder_a = 0.15 * q30 * (frame%2);"},{"baseVals":{"enabled":1,"sides":16,"num_inst":800,"x":0.8,"rad":0.55692,"tex_ang":1.50796,"tex_zoom":4.72143,"g":1,"b":1,"a":0.5,"r2":1,"b2":1,"border_g":0.7,"border_b":0.4,"border_a":0},"init_eqs_str":"a.n=0;a.y1=0;a.x1=0;a.q6=0;a.x1_=0;a.y1_=0;a.dx=0;a.ang1=0;a.k1=0;a.q24=0;a.dy=0;a.z1_=0;a.bri=0;a.dist=0;a.z1=0;","frame_eqs_str":"a.n=a.instance;a.x1=a.gmegabuf[Math.floor(4*a.n)];a.y1=a.gmegabuf[Math.floor(4*a.n+1)];a.z1=a.gmegabuf[Math.floor(4*a.n+2)]+.7;a.dist=sqrt(pow(a.x1-a.x1_,2)+pow(a.y1-a.y1_,2)+pow(a.z1-a.z1_,2));a.x=.5+div(a.x1,a.z1);a.y=.5+div(a.y1,a.z1)*a.q6;a.dx=a.x1-a.x1_;a.dy=a.y1-a.y1_;a.ang1=Math.atan2(a.dy,a.dx);a.k1=div(3.14*a.instance,a.num_inst)+div(a.time,13);a.b=.6+.4*Math.sin(a.ang1+a.k1);a.r=.6+.4*Math.sin(a.k1+.3*a.treb);a.g=.6+.4*Math.sin(a.k1-.3*a.treb);a.rad=div(6*a.dist,a.z1)+\na.q24*(.00001>Math.abs(a.n-0)?1:0);a.rad*=div(2+Math.sin(a.ang1+a.time),3);a.rad=Math.min(a.rad,.2);a.bri=sqrt(a.r*a.r+a.b*a.b+a.g*a.g);a.r=div(a.r,a.bri);a.g=div(a.g,a.bri);a.b=div(a.b,a.bri);a.b2=div(a.b,6);a.g2=div(a.g,6);a.r2=div(a.r,6);a.x1_=a.x1;a.y1_=a.y1;a.z1_=a.z1;a.a=1;a.a2=Math.min(.5,Math.abs(div(.02,a.rad)));","init_eqs_eel":"","frame_eqs_eel":"n = instance;\n\nx1 = gmegabuf(n*4);\ny1 = gmegabuf(n*4+1);\nz1 = gmegabuf(n*4+2)+.7;\n\ndist = sqrt (pow(x1-x1_,2)+pow(y1-y1_,2)+pow(z1-z1_,2));\n\nx = 0.5 + x1/z1;\ny = 0.5 + y1/z1*q6;\n\n\n//b = sin(dist*315)/2+.5; \n//r = sin(dist*1427)/2+.5; \n//g = sin(dist*619)/2+.5; \n\ndx = x1-x1_;\ndy = y1-y1_;\nang1 = atan2(dy,dx)*1 ;\n\nk1 = 3.14*instance/num_inst+time/13;\nb = .6 + .4*sin(ang1+k1);\nr = .6 + .4*sin(k1+.3*treb);\ng = .6 + .4*sin(k1-.3*treb);\n\nrad = 6*dist/z1 + q24*(n==0);\nrad *= (2+sin(ang1+time))/3;\nrad = min(rad,.2);\n\nbri = sqrt(r*r + b*b + g*g);\nr = r/bri;\ng = g/bri;\nb = b/bri;\n\n\n//g = b; r=min(1,rad*16); additive = (rad*16 >= 0.75)*0;\nb2 = b/6;\ng2 = g/6;\nr2 = r/6;\n//r2=g2=b2=0;\n\nx1_ = x1; y1_ = y1; z1_= z1;\na = min(1,1); a2 = min(.5,abs(.02/rad));\n//additive = (n%16==0);"},{"baseVals":{"enabled":1,"thickoutline":1,"textured":1,"num_inst":4,"rad":0.57386,"tex_ang":1.5079,"tex_zoom":1.13805,"r":0.8,"g":1,"b":1,"a":0,"r2":0.8,"b2":1,"border_r":0.8,"border_g":0.4,"border_b":0,"border_a":0},"init_eqs_str":"a.q23=0;a.trig=0;a.q22=0;","frame_eqs_str":"a.x=.5;a.y=.5;a.tex_zoom=2*a.q23+.4;a.tex_ang=div(3.1416,2);a.trig=a.q22;a.a=div(a.trig,4);a.a2=div(a.trig,2);","init_eqs_eel":"","frame_eqs_eel":"x=0.5; y = 0.5;\ntex_zoom = q23*2+.4;\ntex_ang = 3.1416/2;\ntrig = q22;\na = trig/4; a2 = trig/2; \n"},{"baseVals":{"rad":3.95513,"tex_zoom":1.54929,"r":0,"g2":0,"border_g":0.6,"border_b":0.1,"border_a":0,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":""}],"waves":[{"baseVals":{"usedots":1,"scaling":60.80387,"smoothing":0.7,"a":0.05,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"spectrum":1,"usedots":1,"scaling":67.1652,"smoothing":0.7,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"b":0,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""},{"baseVals":{"usedots":1,"r":0.7,"g":0.7,"a":0.6,"enabled":0},"init_eqs_str":"","frame_eqs_str":"","point_eqs_str":"","init_eqs_eel":"","frame_eqs_eel":"","point_eqs_eel":""}],"init_eqs_str":"a.n=0;a.y1=0;a.index2=0;a.index=0;a.t1=0;a.x1=0;a.q22=0;a.q6=0;a.q1=0;a.q5=0;a.k5=0;a.trel=0;a.dec_s=0;a.my=0;a.is_beat=0;a.q23=0;a.k1=0;a.q24=0;a.ran2=0;a.sa=0;a.ran3=0;a.ran5=0;a.dec_m=0;a.q4=0;a.shapes=0;a.mz=0;a.p2=0;a.avg=0;a.trig=0;a.mx=0;a.vol=0;a.p1=0;a.peak=0;a.len=0;a.trig1=0;a.q2=0;a.q27=0;a.p3=0;a.z1=0;a.vol2=0;a.q3=0;a.t0=0;a.vol_=0;a.mzoom_=0;a.ran1=0;a.mzoom=0;a.q28=0;a.pk=0;a.q30=0;a.p1=0;a.p2=0;a.x1=0;a.y1=0;a.t1=0;a.shapes=820;a.frm=5<=rand(10)?1:0;","frame_eqs_str":"a.dec_m=pow(.8,div(30,a.fps));a.dec_s=pow(.9,div(30,a.fps));a.vol=div(a.bass+a.mid+a.treb,3);a.vol_=a.dec_m*a.vol_+(1-a.dec_m)*a.vol;a.avg=a.avg*a.dec_s+a.vol*(1-a.dec_s);a.is_beat=above(a.vol,1*a.avg+2*a.peak)*above(a.time,a.t0+.2);a.t0=a.is_beat*a.time+(1-a.is_beat)*a.t0;a.peak=a.is_beat*a.vol+(1-a.is_beat)*a.peak*a.dec_m;a.index=mod(a.index+a.is_beat,8);a.index2=mod(a.index2+a.is_beat*bnot(a.index),8);a.trig=a.is_beat*(.00001>Math.abs(a.index-0)?1:0);a.t1+=a.trig;a.ran1=\na.dec_m*a.ran1+(1-a.dec_m)*Math.cos(div(3.14,6)*a.t1);a.ran2=a.dec_m*a.ran2+(1-a.dec_m)*Math.sin(div(3.14,6)*a.t1);a.ran3=a.dec_m*a.ran3+(1-a.dec_m)*Math.sin(div(3.14,5)*a.t1);a.q1=a.ran1;a.q2=a.ran2;a.q3=a.ran3;a.n=0;a.p1*=.9;a.p2=0;a.p3=0;a.mx=0;a.my=0;a.mz=0;a.vol2=Math.min(a.vol,2);a.vol2=sqrt(a.vol);a.k5=div(1,rand(10)+.2);for(var b=0;b<a.shapes;b++)a.sa=div(a.n,a.shapes),a.p1+=.15*Math.sin(a.sa*(a.vol-1)*200+.1*a.time)*a.vol,a.p2-=a.p1*a.vol*a.k5,a.x1+=Math.sin(a.p2)*a.sa*.006*a.vol,a.y1+=Math.cos(a.p2)*\na.sa*.006*a.vol,a.z1+=.005*Math.cos(.03*a.p1)*a.vol,a.mx+=a.x1,a.my+=a.y1,a.mz+=a.z1,a.x1=16*Math.atan(div(a.x1,16)),a.y1=16*Math.atan(div(a.y1,16)),a.z1=16*Math.atan(div(a.z1,16)),a.gmegabuf[Math.floor(4*a.n)]=a.x1,a.gmegabuf[Math.floor(4*a.n+1)]=a.y1,a.gmegabuf[Math.floor(4*a.n+2)]=a.z1,a.n+=1;a.trel+=.3*div(a.vol_,a.fps);a.q4=-.2*Math.min(Math.max(0,4*Math.sin(a.trel)),1);a.mzoom=.00001<Math.abs(a.trig)?.1*a.vol2*(3<=rand(10)?1:0):a.mzoom;a.mzoom_=a.mzoom_*a.dec_m+(1-a.dec_m)*a.mzoom;a.q4=a.mzoom_;\na.q5=a.vol>=a.vol_?1:0;a.monitor=a.q5;a.q6=a.aspecty;a.q27=a.index;a.q28=a.index2;a.q24=a.is_beat;a.q30=Math.min(1,div(.05,a.mzoom));a.trig1=a.is_beat*mod(a.index,2);a.pk=.00001<Math.abs(a.trig1)?1:a.pk*a.dec_m;a.ran5=.00001<Math.abs(a.trig1)?rand(1):a.ran5;a.q22=a.pk*a.pk*mod(a.frame,2);a.q22=.00001>Math.abs(a.pk-1)?1:0;a.q23=a.ran5;","pixel_eqs_str":"a.x1=a.x-.5*Math.abs(a.q1);a.y1=a.y-.5*Math.abs(a.q2);a.k1=div(a.q3,2);a.len=sqrt(pow(a.x1,3)*a.k1-pow(a.y1,3)*(1-a.k1))-.05;a.zoom=1+a.len*a.q4;a.dx=0*a.q1*(a.y-.5);a.dy=0*a.q2*(a.x-.5);a.warp=0;a.rot=.01*(a.x1-a.y1)*a.q1;","init_eqs_eel":"p1 = 0; p2 = 0; x1 = 0 ; y1 = 0; t1 = 0;\nshapes = 820;\nfrm = (rand(10) >= 5);","frame_eqs_eel":"dec_m = pow (0.8, 30/fps);\ndec_s = pow (0.9, 30/fps);\nvol = (bass+mid+treb)/3; \nvol_ = dec_m * vol_ + (1-dec_m)*vol;\navg = avg*dec_s + vol*(1-dec_s);\nis_beat = above(vol, 1*avg+2*peak) * above (time, t0+.2);\nt0 = is_beat*time + (1-is_beat)*t0;\npeak = is_beat * vol + (1-is_beat)*peak*dec_m;\nindex = (index + is_beat) %8;\nindex2 = (index2 + is_beat*bnot(index)) %8;\n\ntrig = is_beat*(index==0);\nt1 = t1+trig; \n\nran1 = dec_m * ran1 + (1-dec_m)*cos(3.14/6*t1);\nran2 = dec_m * ran2 + (1-dec_m)*sin(3.14/6*t1);\nran3 = dec_m * ran3 + (1-dec_m)*sin(3.14/5*t1);\nq1 = ran1; q2 = ran2; q3 = ran3;\n\nn = 0; \np1 *= .9; p2 = 0; p3 = 0;\nmx = 0; my = 0; mz = 0;\nvol2 = min(vol,2);\nvol2 = sqrt(vol);\nk5 = 1 / (rand(10)+.2); \nloop (shapes,\n  sa = n/shapes;\n  p1 =  p1+.15*sin(sa*(vol-1)*200+time*.1)*vol;   \n  p2 = p2-p1*vol*k5;\n  x1 += sin(p2)*sa*.006*vol;\n  y1 += cos(p2)*sa*.006*vol;\n  z1 += cos(p1*.03)*.005*vol;\n\nmx += x1; my += y1; mz += z1;\nx1 = atan(x1/16)*16;\ny1 = atan(y1/16)*16;\nz1 = atan(z1/16)*16;\n//z1 = 1;\n  gmegabuf(n*4) =   x1;\n  gmegabuf(n*4+1) = y1;\n  gmegabuf(n*4+2) = z1;\n  n +=1;\n);\n\ntrel = trel + vol_/fps*.3;\nq4 = min(max(0,4*sin(trel)),1)*-.2;\nmzoom = if(trig,.1*vol2*(rand(10)>=3),mzoom);\nmzoom_ = mzoom_*dec_m + (1-dec_m)*mzoom;\nq4 = mzoom_;\nq5 = vol >= vol_;\n\nmonitor = q5;\nq6=aspecty; \nq27 = index;\nq28 = index2;\nq24 = is_beat;\nq30 = min(1,.05/mzoom);;\n\ntrig1 = is_beat*(index%2);\npk = if (trig1,1,pk*dec_m);\nran5 = if(trig1, rand(1), ran5);\n\nq22 = pk * pk * (frame%2);\nq22 = pk==1;\nq23 = ran5;","pixel_eqs_eel":"x1 = x-0.5*abs(q1); y1 = y-.5*abs(q2);\nk1 = q3/2; \nlen = sqrt(pow(x1,3)*k1-pow(y1,3)*(1-k1))-.05;\nzoom = 1 + (len)*q4; \ndx = 0.0 * q1* (y-.5);\ndy = 0.0 * q2* (x-.5);\n\n\nwarp = 0.0;\n\nrot = (x1-y1)*.01*q1;","warp":" shader_body { \n  vec3 ret_1;\n  ret_1 = (texture (sampler_main, uv).xyz * ((0.97 - \n    (0.05 * dot (((texture (sampler_blur2, uv_orig).xyz * scale2) + bias2), vec3(0.32, 0.49, 0.29)))\n  ) - (0.1 * q5)));\n  ret_1 = (ret_1 - 0.004);\n  vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = ret_1;\n  ret = tmpvar_2.xyz;\n }","comp":" shader_body { \n  vec2 uv_1;\n  vec3 ret_2;\n  uv_1 = (uv + (texsize.zw / 2.0));\n  vec2 tmpvar_3;\n  tmpvar_3 = ((0.5 - uv_1) + 0.5);\n  ret_2 = (max (texture (sampler_main, uv_1).xyz, texture (sampler_main, tmpvar_3).xyz) / 1.5);\n  ret_2 = ((2.0 * max (\n    ((texture (sampler_blur3, uv_1).xyz * scale3) + bias3)\n  , \n    ((texture (sampler_blur3, tmpvar_3).xyz * scale3) + bias3)\n  )) + (ret_2 * 3.0));\n  vec3 tmpvar_4;\n  tmpvar_4 = max (ret_2, (texture (sampler_noise_lq, (uv_1 * 2.0)).x * (0.05 + \n    (2.0 * (((texture (sampler_blur3, \n      fract((((uv_1 - 0.5) * 0.8) + 0.5))\n    ).xyz * scale3) + bias3) + ((texture (sampler_blur3, \n      fract((((tmpvar_3 - 0.5) * 0.8) + 0.5))\n    ).xyz * scale3) + bias3)))\n  )));\n  ret_2 = tmpvar_4;\n  vec4 tmpvar_5;\n  tmpvar_5.w = 1.0;\n  tmpvar_5.xyz = tmpvar_4;\n  ret = tmpvar_5.xyz;\n }","warp_hlsl":"shader_body\n{\nret = lerp(GetPixel((uv+uv_orig)/2 ),GetPixel(uv), 1);\nret *= (0.97 - .05*lum(GetBlur2(uv_orig)) - .1*q5);\nret -= 0.004;\n\nfloat2 uv2 = float2 (.2/rad,ang);\nuv2 = uv_orig;\n//ret += (tex2D (sampler_noise_lq,uv2*2+0*rand_frame).r-.0)*.05 * saturate(.1+(GetBlur2(uv)-GetPixel(uv))*1);\n\n}","comp_hlsl":"float2 uv1, uv2, uv3;\nshader_body\n{\nuv += texsize.zw/2;\nfloat2 uv1 = uv-.5;\nuv2 = float2(1/rad,ang)*.2;\nfloat2 uv_echo = (uv - 0.5)*float2(-1,-1) + 0.5;\nfloat k1 = .2;\n\nuv2 = frac((uv-.5)*k1+.5);\nuv3 = frac((uv_echo-.5)*k1+.5);\nfloat3 ret0 = GetBlur3(uv2)+GetBlur3(uv3) ;\nfloat dx = lum(GetPixel(uv-texsize.zw)) - lum(GetPixel(uv+texsize.zw));\n      dx += lum(GetPixel(uv_echo-texsize.zw)) - lum(GetPixel(uv_echo+texsize.zw));\n\n\n    ret = lerp( tex2D(sampler_main, uv).xyz, \n                tex2D(sampler_main, uv_echo).xyz, \n                0.50);\n\n    ret = max( tex2D(sampler_main, uv).xyz, \n                tex2D(sampler_main, uv_echo).xyz)/1.5;\n\n\n    ret = 2*max(GetBlur3(uv),GetBlur3(uv_echo)) + ret*3;;\n\n//ret = max(min(ret0/2,.5),ret);\n\nfloat2 noise = tex2D (sampler_noise_lq,uv*2);\nuv2 = frac((uv-.5)*.8+.5);\nuv3 = frac((uv_echo-.5)*.8+.5);\nret = max(1*ret, noise.r*(.05+2*(GetBlur3(uv2)+GetBlur3(uv3))));\n\n}"}